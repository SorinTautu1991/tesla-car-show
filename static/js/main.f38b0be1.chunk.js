(this["webpackJsonptesla-car-show"]=this["webpackJsonptesla-car-show"]||[]).push([[0],{44:function(e,t,c){},49:function(e,t,c){"use strict";c.r(t);var n=c(5),r=c(35),s=c.n(r),a=(c(44),c(15)),i=c(36),o=c(9);Object(a.b)({OrbitControls:i.a});var j=function(){var e=Object(a.e)(),t=e.camera,c=e.gl;return Object(o.jsx)("orbitControls",{attach:"orbitControls",args:[t,c.domElement]})},l=c(8),b=c(10),h=c(22),u=function(e){var t=Object(h.b)((function(){return Object(l.a)({args:[20,1,10]},e)})),c=Object(b.a)(t,2),n=c[0];c[1];return Object(o.jsxs)("mesh",Object(l.a)(Object(l.a)({ref:n},e),{},{receiveShadow:!0,children:[Object(o.jsx)("boxBufferGeometry",{args:[200,1,200]}),Object(o.jsx)("meshPhysicalMaterial",{transparent:!0,opacity:.2})]}))},d=c(0),O=function(e){var t=Object(a.d)(d.TextureLoader,"/tesla-car-show./autoshop.jpg"),c=Object(a.e)().gl,r=Object(n.useMemo)((function(){return new d.WebGLCubeRenderTarget(t.image.height).fromEquirectangularTexture(c,t)}),[c,t]);return Object(o.jsx)("primitive",{attach:"background",object:r.texture})},f={activeMesh:{},activeMeshName:"body_primary_0",cameraPos:new d.Vector3(-4,7,-10),target:new d.Vector3(1,2,-8),shouldUpdate:!1},p=function(){var e=function(e){f.activeMesh&&(f.activeMesh.material.color=new d.Color(e.target.style.background))};return Object(o.jsxs)("div",{style:{position:"absolute",zIndex:1,left:0,right:0,margin:"auto",width:"fit-content",display:"flex",top:"20px"},children:[Object(o.jsx)("div",{onClick:e,style:{width:50,height:50,background:"blue"}}),Object(o.jsx)("div",{onClick:e,style:{width:50,height:50,background:"yellow"}}),Object(o.jsx)("div",{onClick:e,style:{width:50,height:50,background:"white"}})]})},g=function(e){var t=e.position,c=void 0===t?[0,0,0]:t,n=e.offset,r=void 0===n?[0,0,0]:n,s=e.dims,a=void 0===s?[1,1,1]:s,i=e.visible,j=void 0!==i&&i,l=e.rotation,u=void 0===l?[0,0,0]:l,d=e.children,O=Object(h.b)((function(){return{mass:1,args:a,position:c}})),f=Object(b.a)(O,2),p=f[0],g=f[1];return Object(o.jsxs)("group",{ref:p,api:g,children:[Object(o.jsxs)("mesh",{scale:a,visible:j,children:[Object(o.jsx)("boxBufferGeometry",{}),Object(o.jsx)("meshPhysicalMaterial",{wireframe:!0})]}),Object(o.jsx)("group",{position:r,rotation:u,children:d})]})},m=c(40);Object(a.b)({DragControls:m.a});var x=function(e){var t=Object(n.useState)([]),c=Object(b.a)(t,2),r=c[0],s=c[1],i=Object(n.useRef)(),j=Object(n.useRef)(),l=Object(a.e)(),h=l.camera,u=l.gl,d=l.scene;return Object(n.useEffect)((function(){s(i.current.children)}),[]),Object(n.useEffect)((function(){j.current.addEventListener("hoveron",(function(e){d.orbitControls.enabled=!1})),j.current.addEventListener("hoveroff",(function(e){d.orbitControls.enabled=!0})),j.current.addEventListener("drag",(function(e){var t,c;null===(t=e.object.api)||void 0===t||t.position.copy(e.object.position),null===(c=e.object.api)||void 0===c||c.velocity.set(0,0,0)})),j.current.addEventListener("dragstart",(function(e){var t;null===(t=e.object.api)||void 0===t||t.mass.set(0)})),j.current.addEventListener("dragend",(function(e){var t;null===(t=e.object.api)||void 0===t||t.mass.set(1)}))}),[r,d]),Object(o.jsxs)("group",{ref:i,children:[Object(o.jsx)("dragControls",{transformGroup:e.transformGroup,ref:j,args:[r,h,u.domElement]}),e.children]})},v=c(34);Object(a.b)({GLTFLoader:v.a});var w=function(e){var t,c=Object(a.d)(v.a,e.path);return c.animations.length>0&&(t=new d.AnimationMixer(c.scene),c.animations.forEach((function(e){t.clipAction(e).play()}))),Object(a.c)((function(e){e.scene;var c,n=e.delta;null===(c=t)||void 0===c||c.update(n)})),c.scene.traverse((function(e){e.isMesh&&(e.castShadow=!0,e.receiveShadow=!0,e.material.side=d.FrontSide)})),Object(o.jsx)("primitive",{object:c.scene,scale:e.scale})},y=function(){return Object(o.jsxs)(n.Suspense,{fallback:null,children:[Object(o.jsx)(x,{transformGroup:!0,children:Object(o.jsx)(g,{position:[4,1,0],dims:[3,2,6],offset:[0,-.2,.8],children:Object(o.jsx)(w,{path:"/tesla-car-show/tesla-model-3/scene.gltf",scale:new Array(3).fill(.01)})})}),Object(o.jsx)(x,{transformGroup:!0,children:Object(o.jsx)(g,{position:[-4,7,0],dims:[3,2,7],offset:[0,-.8,2],rotation:[0,4.7,0],children:Object(o.jsx)(w,{path:"/tesla-car-show/tesla-roadster/scene.gltf",scale:new Array(3).fill(15)})})}),Object(o.jsx)("group",{children:Object(o.jsx)(w,{path:"/tesla-car-show/mech-drone/scene.gltf",scale:new Array(3).fill(.01)})})]})},k=function(){return Object(a.c)((function(e){var t=e.camera,c=e.scene;(f.activeMesh.name!==f.activeMeshName&&(f.activeMesh=c.getObjectByName(f.activeMeshName)||{}),f.shouldUpdate)&&(t.position.lerp(f.cameraPos,.1),c.orbitControls.target.lerp(f.target,.1),c.orbitControls.update(),t.position.clone().sub(f.cameraPos).length()<.1&&(f.shouldUpdate=!1))})),null},M=c(14),S={zIndex:1,position:"absolute",bottom:"30vh",height:"30px",width:"30px",borderRadius:"100%",background:"white",textAlign:"center",fontSize:16,fontWeight:"bold",opacity:.7,border:"1px solid black",cursor:"pointer"},C=function(){var e={1:{cameraPos:[9,2,4],target:[4,0,0],name:"Obj3d66-806492-66-78_Obj3d66-806492-66-78_mtl_0"},2:{cameraPos:[1,2,5],target:[-4,0,0],name:"body_primary_0"}},t=function(t){var c,n;(c=f.cameraPos).set.apply(c,Object(M.a)(e[t].cameraPos)),(n=f.target).set.apply(n,Object(M.a)(e[t].target)),f.activeMeshName=e[t].name,f.shouldUpdate=!0};return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("button",{onClick:function(e){return t(2)},style:Object(l.a)(Object(l.a)({},S),{},{left:"40vw"}),children:"<"}),Object(o.jsx)("button",{onClick:function(e){return t(1)},style:Object(l.a)(Object(l.a)({},S),{},{right:"40vw"}),children:">"})]})},E=function(e){var t=Object(n.useRef)(),c=Object(a.e)().scene;return Object(n.useEffect)((function(){c.lights?c.lights.push(t):c.lights=[t]}),[c]),Object(o.jsxs)("mesh",Object(l.a)(Object(l.a)({},e),{},{ref:t,children:[Object(o.jsx)("pointLight",{castShadow:!0,"shadow-mapSize-height":Math.pow(2,10),"shadow-mapSize-width":Math.pow(2,10),"shadow-radius":10}),Object(o.jsx)("sphereBufferGeometry",{args:[.2,20,20]}),Object(o.jsx)("meshPhongMaterial",{emissive:"white"})]}))},L=function(){return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("ambientLight",{intensity:.2}),Object(o.jsx)("directionalLight",{position:[6,3,0],intensity:2,castShadow:!0,"shadow-mapSize-width":Math.pow(2,10),"shadow-mapSize-height":Math.pow(2,10)}),Object(o.jsx)(E,{position:[-6,3,0]}),Object(o.jsx)(E,{position:[0,3,0]}),Object(o.jsx)(E,{position:[6,3,0]})]})},P=c(32),G=function(){var e=Object(n.useState)(null),t=Object(b.a)(e,2),c=t[0],r=t[1],s=Object(a.e)().scene;return Object(n.useEffect)((function(){s.lights&&3===s.lights.length&&r(s.lights)}),[s.lights]),c?Object(o.jsxs)(P.c,{children:[Object(o.jsx)(P.b,{focusDistance:0,focalLength:.5,bokehScale:2,height:480}),Object(o.jsx)(P.a,{luminanceThreshold:0,luminanceSmoothing:.9,height:300})]}):null},z=function(){return Object(o.jsxs)("div",{style:{width:"100vw",height:"100vh"},children:[Object(o.jsx)(p,{}),Object(o.jsx)(C,{}),Object(o.jsxs)(a.a,{style:{background:"black"},camera:{position:[-4,7,-10]},shadows:!0,gl:{powerPreference:"high-performance",antialias:!1,stencil:!1,depth:!1},children:[Object(o.jsx)(k,{}),Object(o.jsx)(j,{}),Object(o.jsx)(L,{}),Object(o.jsx)("axesHelper",{args:[5]}),Object(o.jsx)(n.Suspense,{fallback:null,children:Object(o.jsx)(O,{})}),Object(o.jsxs)(h.a,{children:[Object(o.jsx)(y,{}),Object(o.jsx)(u,{position:[0,-.5,0]})]}),Object(o.jsx)(G,{})]})]})};s.a.render(Object(o.jsx)(z,{}),document.getElementById("root"))}},[[49,1,2]]]);
//# sourceMappingURL=main.f38b0be1.chunk.js.map